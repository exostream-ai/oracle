name = "exostream-api"
main = "src/api/worker.ts"
compatibility_date = "2024-01-01"

# Custom domain routing
routes = [
  { pattern = "api.exostream.ai", custom_domain = true }
]

# Custom build - pre-compute oracle state before bundling
[build]
command = "npm run build:oracle"

# Environment variables
[vars]
ENVIRONMENT = "production"

# KV Namespace for API keys and usage tracking
[[kv_namespaces]]
binding = "API_KEYS"
id = "373c616070b24744b64b56b718643374"

# Cron Triggers for scheduled scraper runs
# Runs every hour at minute 0
[triggers]
crons = ["0 * * * *"]
